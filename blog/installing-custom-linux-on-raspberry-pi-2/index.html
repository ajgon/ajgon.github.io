<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style nonce="9c737cda9c0353592e70a2213073d715bb26b45f" data-href="/styles.984ba98a3f7182cebdba.css" integrity="sha512-tArCtNMISXZKibEa+z5HcGO/B89vsvVbd+cepQbLGYG7ZouyFdTv0t38C7jGJjhZc4x1QhK30ejtIcDAs6Kamg==">@font-face{font-family:Roboto;font-style:normal;font-display:swap;font-weight:100;src:local("Roboto Thin "),local("Roboto-Thin"),url(/static/roboto-latin-100-987b84570ea69ee660455b8d5e91f5f1.woff2) format("woff2"),url(/static/roboto-latin-100-e9dbbe8a693dd275c16d32feb101f1c1.woff) format("woff")}@font-face{font-family:Roboto;font-style:italic;font-display:swap;font-weight:100;src:local("Roboto Thin italic"),local("Roboto-Thinitalic"),url(/static/roboto-latin-100italic-6232f43d15b0e7a0bf0fe82e295bdd06.woff2) format("woff2"),url(/static/roboto-latin-100italic-d704bb3d579b7d5e40880c75705c8a71.woff) format("woff")}@font-face{font-family:Roboto;font-style:normal;font-display:swap;font-weight:300;src:local("Roboto Light "),local("Roboto-Light"),url(/static/roboto-latin-300-55536c8e9e9a532651e3cf374f290ea3.woff2) format("woff2"),url(/static/roboto-latin-300-a1471d1d6431c893582a5f6a250db3f9.woff) format("woff")}@font-face{font-family:Roboto;font-style:italic;font-display:swap;font-weight:300;src:local("Roboto Light italic"),local("Roboto-Lightitalic"),url(/static/roboto-latin-300italic-d69924b98acd849cdeba9fbff3f88ea6.woff2) format("woff2"),url(/static/roboto-latin-300italic-210a7c781f5a354a0e4985656ab456d9.woff) format("woff")}@font-face{font-family:Roboto;font-style:normal;font-display:swap;font-weight:400;src:local("Roboto Regular "),local("Roboto-Regular"),url(/static/roboto-latin-400-5d4aeb4e5f5ef754e307d7ffaef688bd.woff2) format("woff2"),url(/static/roboto-latin-400-bafb105baeb22d965c70fe52ba6b49d9.woff) format("woff")}@font-face{font-family:Roboto;font-style:italic;font-display:swap;font-weight:400;src:local("Roboto Regular italic"),local("Roboto-Regularitalic"),url(/static/roboto-latin-400italic-d8bcbe724fd6f4ba44d0ee6a2675890f.woff2) format("woff2"),url(/static/roboto-latin-400italic-9680d5a0c32d2fd084e07bbc4c8b2923.woff) format("woff")}@font-face{font-family:Roboto;font-style:normal;font-display:swap;font-weight:500;src:local("Roboto Medium "),local("Roboto-Medium"),url(/static/roboto-latin-500-285467176f7fe6bb6a9c6873b3dad2cc.woff2) format("woff2"),url(/static/roboto-latin-500-de8b7431b74642e830af4d4f4b513ec9.woff) format("woff")}@font-face{font-family:Roboto;font-style:italic;font-display:swap;font-weight:500;src:local("Roboto Medium italic"),local("Roboto-Mediumitalic"),url(/static/roboto-latin-500italic-510dec37fa69fba39593e01a469ee018.woff2) format("woff2"),url(/static/roboto-latin-500italic-ffcc050b2d92d4b14a4fcb527ee0bcc8.woff) format("woff")}@font-face{font-family:Roboto;font-style:normal;font-display:swap;font-weight:700;src:local("Roboto Bold "),local("Roboto-Bold"),url(/static/roboto-latin-700-037d830416495def72b7881024c14b7b.woff2) format("woff2"),url(/static/roboto-latin-700-cf6613d1adf490972c557a8e318e0868.woff) format("woff")}@font-face{font-family:Roboto;font-style:italic;font-display:swap;font-weight:700;src:local("Roboto Bold italic"),local("Roboto-Bolditalic"),url(/static/roboto-latin-700italic-010c1aeee3c6d1cbb1d5761d80353823.woff2) format("woff2"),url(/static/roboto-latin-700italic-846d1890aee87fde5d8ced8eba360c3a.woff) format("woff")}@font-face{font-family:Roboto;font-style:normal;font-display:swap;font-weight:900;src:local("Roboto Black "),local("Roboto-Black"),url(/static/roboto-latin-900-19b7a0adfdd4f808b53af7e2ce2ad4e5.woff2) format("woff2"),url(/static/roboto-latin-900-8c2ade503b34e31430d6c98aa29a52a3.woff) format("woff")}@font-face{font-family:Roboto;font-style:italic;font-display:swap;font-weight:900;src:local("Roboto Black italic"),local("Roboto-Blackitalic"),url(/static/roboto-latin-900italic-7b770d6c53423deb1a8e49d3c9175184.woff2) format("woff2"),url(/static/roboto-latin-900italic-bc833e725c137257c2c42a789845d82f.woff) format("woff")}code[class*=language-],pre[class*=language-]{color:#ccc;background:none;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}.PageNotFoundLayout-module--page404html--laTCh{width:100%;height:100%;margin:0;padding:0}.PageNotFoundLayout-module--page404--3vtu0{width:100%;height:100%;margin:0;padding:0;font-family:Open Sans,Helvetica,Arial,sans-serif;color:#5a595a;background:bottom no-repeat #e9ecf7;background-image:url(/static/PageNotFoundLayout-dbca6b21e2eb3b4192d6fad4abe1c8c4.png);background-size:100% auto;position:relative}.PageNotFoundLayout-module--page404--3vtu0 a{text-decoration:none;cursor:pointer;color:#1472b9}.PageNotFoundLayout-module--page404--3vtu0 h1{font-weight:400}.PageNotFoundLayout-module--page404--3vtu0 .PageNotFoundLayout-module--info--2GcMt{position:absolute;right:10%;top:30%;text-align:center;text-shadow:1px 1px 4px #fff}</style><meta name="generator" content="Gatsby 2.13.67"/><style nonce="9c737cda9c0353592e70a2213073d715bb26b45f" type="text/css" id="server-side-jss">html{box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}*,*::before,*::after{box-sizing:inherit}body{margin:0;background-color:#fafafa}@media print{body{background-color:#fff}}html{box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}*,*::before,*::after{box-sizing:inherit}body{margin:0;background-color:#fafafa}@media print{body{background-color:#fff}}.jss109{background-color:#fff}.jss110{border-radius:4px}.jss111{box-shadow:none}.jss112{box-shadow:0 1px 3px 0 rgba(0,0,0,0.2),0 1px 1px 0 rgba(0,0,0,0.14),0 2px 1px -1px rgba(0,0,0,0.12)}.jss113{box-shadow:0 1px 5px 0 rgba(0,0,0,0.2),0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12)}.jss114{box-shadow:0 1px 8px 0 rgba(0,0,0,0.2),0 3px 4px 0 rgba(0,0,0,0.14),0 3px 3px -2px rgba(0,0,0,0.12)}.jss115{box-shadow:0 2px 4px -1px rgba(0,0,0,0.2),0 4px 5px 0 rgba(0,0,0,0.14),0 1px 10px 0 rgba(0,0,0,0.12)}.jss116{box-shadow:0 3px 5px -1px rgba(0,0,0,0.2),0 5px 8px 0 rgba(0,0,0,0.14),0 1px 14px 0 rgba(0,0,0,0.12)}.jss117{box-shadow:0 3px 5px -1px rgba(0,0,0,0.2),0 6px 10px 0 rgba(0,0,0,0.14),0 1px 18px 0 rgba(0,0,0,0.12)}.jss118{box-shadow:0 4px 5px -2px rgba(0,0,0,0.2),0 7px 10px 1px rgba(0,0,0,0.14),0 2px 16px 1px rgba(0,0,0,0.12)}.jss119{box-shadow:0 5px 5px -3px rgba(0,0,0,0.2),0 8px 10px 1px rgba(0,0,0,0.14),0 3px 14px 2px rgba(0,0,0,0.12)}.jss120{box-shadow:0 5px 6px -3px rgba(0,0,0,0.2),0 9px 12px 1px rgba(0,0,0,0.14),0 3px 16px 2px rgba(0,0,0,0.12)}.jss121{box-shadow:0 6px 6px -3px rgba(0,0,0,0.2),0 10px 14px 1px rgba(0,0,0,0.14),0 4px 18px 3px rgba(0,0,0,0.12)}.jss122{box-shadow:0 6px 7px -4px rgba(0,0,0,0.2),0 11px 15px 1px rgba(0,0,0,0.14),0 4px 20px 3px rgba(0,0,0,0.12)}.jss123{box-shadow:0 7px 8px -4px rgba(0,0,0,0.2),0 12px 17px 2px rgba(0,0,0,0.14),0 5px 22px 4px rgba(0,0,0,0.12)}.jss124{box-shadow:0 7px 8px -4px rgba(0,0,0,0.2),0 13px 19px 2px rgba(0,0,0,0.14),0 5px 24px 4px rgba(0,0,0,0.12)}.jss125{box-shadow:0 7px 9px -4px rgba(0,0,0,0.2),0 14px 21px 2px rgba(0,0,0,0.14),0 5px 26px 4px rgba(0,0,0,0.12)}.jss126{box-shadow:0 8px 9px -5px rgba(0,0,0,0.2),0 15px 22px 2px rgba(0,0,0,0.14),0 6px 28px 5px rgba(0,0,0,0.12)}.jss127{box-shadow:0 8px 10px -5px rgba(0,0,0,0.2),0 16px 24px 2px rgba(0,0,0,0.14),0 6px 30px 5px rgba(0,0,0,0.12)}.jss128{box-shadow:0 8px 11px -5px rgba(0,0,0,0.2),0 17px 26px 2px rgba(0,0,0,0.14),0 6px 32px 5px rgba(0,0,0,0.12)}.jss129{box-shadow:0 9px 11px -5px rgba(0,0,0,0.2),0 18px 28px 2px rgba(0,0,0,0.14),0 7px 34px 6px rgba(0,0,0,0.12)}.jss130{box-shadow:0 9px 12px -6px rgba(0,0,0,0.2),0 19px 29px 2px rgba(0,0,0,0.14),0 7px 36px 6px rgba(0,0,0,0.12)}.jss131{box-shadow:0 10px 13px -6px rgba(0,0,0,0.2),0 20px 31px 3px rgba(0,0,0,0.14),0 8px 38px 7px rgba(0,0,0,0.12)}.jss132{box-shadow:0 10px 13px -6px rgba(0,0,0,0.2),0 21px 33px 3px rgba(0,0,0,0.14),0 8px 40px 7px rgba(0,0,0,0.12)}.jss133{box-shadow:0 10px 14px -6px rgba(0,0,0,0.2),0 22px 35px 3px rgba(0,0,0,0.14),0 8px 42px 7px rgba(0,0,0,0.12)}.jss134{box-shadow:0 11px 14px -7px rgba(0,0,0,0.2),0 23px 36px 3px rgba(0,0,0,0.14),0 9px 44px 8px rgba(0,0,0,0.12)}.jss135{box-shadow:0 11px 15px -7px rgba(0,0,0,0.2),0 24px 38px 3px rgba(0,0,0,0.14),0 9px 46px 8px rgba(0,0,0,0.12)}.jss108{overflow:hidden}.jss206{padding:16px}.jss206:last-child{padding-bottom:24px}.jss145{margin:0;display:block}.jss146{color:rgba(0,0,0,0.54);font-size:7rem;font-weight:300;font-family:"Roboto","Helvetica","Arial",sans-serif;line-height:1.14286em;margin-left:-.04em;letter-spacing:-.04em}.jss147{color:rgba(0,0,0,0.54);font-size:3.5rem;font-weight:400;font-family:"Roboto","Helvetica","Arial",sans-serif;line-height:1.30357em;margin-left:-.02em;letter-spacing:-.02em}.jss148{color:rgba(0,0,0,0.54);font-size:2.8125rem;font-weight:400;font-family:"Roboto","Helvetica","Arial",sans-serif;line-height:1.13333em;margin-left:-.02em}.jss149{color:rgba(0,0,0,0.54);font-size:2.125rem;font-weight:400;font-family:"Roboto","Helvetica","Arial",sans-serif;line-height:1.20588em}.jss150{color:rgba(0,0,0,0.87);font-size:1.5rem;font-weight:400;font-family:"Roboto","Helvetica","Arial",sans-serif;line-height:1.35417em}.jss151{color:rgba(0,0,0,0.87);font-size:1.3125rem;font-weight:500;font-family:"Roboto","Helvetica","Arial",sans-serif;line-height:1.16667em}.jss152{color:rgba(0,0,0,0.87);font-size:1rem;font-weight:400;font-family:"Roboto","Helvetica","Arial",sans-serif;line-height:1.5em}.jss153{color:rgba(0,0,0,0.87);font-size:.875rem;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;line-height:1.5;letter-spacing:.01071em}.jss154{color:rgba(0,0,0,0.87);font-size:1rem;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;line-height:1.5;letter-spacing:.00938em}.jss155{color:rgba(0,0,0,0.87);font-size:.75rem;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;line-height:1.66;letter-spacing:.03333em}.jss156{color:rgba(0,0,0,0.87);font-size:.875rem;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:500;line-height:1.75;letter-spacing:.02857em;text-transform:uppercase}.jss157{color:#333;font-size:6rem;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:300;line-height:1;letter-spacing:-0.01562em}.jss158{color:#333;font-size:3.75rem;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:300;line-height:1;letter-spacing:-0.00833em}.jss159{color:#333;font-size:3rem;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;line-height:1.04;letter-spacing:0}.jss160{color:#333;font-size:2.125rem;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;line-height:1.17;letter-spacing:.00735em}.jss161{color:#333;font-size:1.5rem;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;line-height:1.33;letter-spacing:0}.jss162{color:#333;font-size:1.25rem;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:500;line-height:1.6;letter-spacing:.0075em}.jss163{color:#333;font-size:1rem;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;line-height:1.75;letter-spacing:.00938em}.jss164{color:rgba(0,0,0,0.87);font-size:.875rem;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:500;line-height:1.57;letter-spacing:.00714em}.jss165{color:rgba(0,0,0,0.87);font-size:.75rem;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;line-height:2.66;letter-spacing:.08333em;text-transform:uppercase}.jss166{width:1px;height:1px;position:absolute;overflow:hidden}.jss167{text-align:left}.jss168{text-align:center}.jss169{text-align:right}.jss170{text-align:justify}.jss171{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.jss172{margin-bottom:.35em}.jss173{margin-bottom:16px}.jss174{color:inherit}.jss175{color:#fafafa}.jss176{color:#f50057}.jss177{color:rgba(0,0,0,0.87)}.jss178{color:rgba(0,0,0,0.54)}.jss179{color:#f44336}.jss180{display:inline}.jss139{display:flex;padding:16px;align-items:center}.jss140{flex:0 0 auto;margin-right:16px}.jss141{flex:0 0 auto;align-self:flex-start;margin-top:-8px;margin-right:-8px}.jss142{flex:1 1 auto}.jss204{display:block;background-size:cover;background-repeat:no-repeat;background-position:center}.jss205{width:100%}.jss188{color:inherit;border:0;margin:0;cursor:pointer;display:inline-flex;outline:0;padding:0;position:relative;align-items:center;user-select:none;border-radius:0;vertical-align:middle;justify-content:center;-moz-appearance:none;text-decoration:none;background-color:transparent;-webkit-appearance:none;-webkit-tap-highlight-color:transparent}.jss188::-moz-focus-inner{border-style:none}.jss188.jss189{cursor:default;pointer-events:none}.jss182{flex:0 0 auto;color:rgba(0,0,0,0.54);padding:12px;overflow:visible;font-size:1.5rem;text-align:center;transition:background-color 150ms cubic-bezier(0.4,0,0.2,1) 0ms;border-radius:50%}.jss182:hover{background-color:rgba(0,0,0,0.08)}.jss182.jss186{color:rgba(0,0,0,0.26)}@media(hover:none){.jss182:hover{background-color:transparent}}.jss182:hover.jss186{background-color:transparent}.jss183{color:inherit}.jss184{color:#fafafa}.jss184:hover{background-color:rgba(250,250,250,0.08)}@media(hover:none){.jss184:hover{background-color:transparent}}.jss185{color:#f50057}.jss185:hover{background-color:rgba(245,0,87,0.08)}@media(hover:none){.jss185:hover{background-color:transparent}}.jss187{width:100%;display:flex;align-items:inherit;justify-content:inherit}.jss202{top:0;left:0;right:0;bottom:0;z-index:1300;position:fixed}.jss203{visibility:hidden}.jss201{outline:0;position:absolute;min-width:16px;max-width:calc(100% - 32px);overflow-y:auto;overflow-x:hidden;min-height:16px;max-height:calc(100% - 32px)}.jss200{max-height:calc(100% - 96px);-webkit-overflow-scrolling:touch}.jss191{fill:currentColor;width:1em;height:1em;display:inline-block;font-size:24px;transition:fill 200ms cubic-bezier(0.4,0,0.2,1) 0ms;user-select:none;flex-shrink:0}.jss192{color:#fafafa}.jss193{color:#f50057}.jss194{color:rgba(0,0,0,0.54)}.jss195{color:#f44336}.jss196{color:rgba(0,0,0,0.26)}.jss197{font-size:inherit}.jss198{font-size:20px}.jss199{font-size:35px}.jss181{color:inherit;text-decoration:none}.jss136{max-height:200px}.jss137{max-height:450px}.jss138{font-size:3.5rem;font-weight:500}.jss106{box-shadow:none;margin-bottom:2.5em}@media(max-width:959.95px){.jss106{margin-bottom:0}}.jss107 p,.jss107 li{font-size:1.125rem;line-height:1.46429em}.jss7{width:100%;display:flex;flex-wrap:wrap;box-sizing:border-box}.jss8{margin:0;box-sizing:border-box}.jss9{min-width:0}.jss10{flex-direction:column}.jss11{flex-direction:column-reverse}.jss12{flex-direction:row-reverse}.jss13{flex-wrap:nowrap}.jss14{flex-wrap:wrap-reverse}.jss15{align-items:center}.jss16{align-items:flex-start}.jss17{align-items:flex-end}.jss18{align-items:baseline}.jss19{align-content:center}.jss20{align-content:flex-start}.jss21{align-content:flex-end}.jss22{align-content:space-between}.jss23{align-content:space-around}.jss24{justify-content:center}.jss25{justify-content:flex-end}.jss26{justify-content:space-between}.jss27{justify-content:space-around}.jss28{justify-content:space-evenly}.jss29{width:calc(100% + 8px);margin:-4px}.jss29>.jss8{padding:4px}.jss30{width:calc(100% + 16px);margin:-8px}.jss30>.jss8{padding:8px}.jss31{width:calc(100% + 24px);margin:-12px}.jss31>.jss8{padding:12px}.jss32{width:calc(100% + 32px);margin:-16px}.jss32>.jss8{padding:16px}.jss33{width:calc(100% + 40px);margin:-20px}.jss33>.jss8{padding:20px}.jss34{flex-grow:0;max-width:none;flex-basis:auto}.jss35{flex-grow:1;max-width:100%;flex-basis:0}.jss36{flex-grow:0;max-width:8.333333%;flex-basis:8.333333%}.jss37{flex-grow:0;max-width:16.666667%;flex-basis:16.666667%}.jss38{flex-grow:0;max-width:25%;flex-basis:25%}.jss39{flex-grow:0;max-width:33.333333%;flex-basis:33.333333%}.jss40{flex-grow:0;max-width:41.666667%;flex-basis:41.666667%}.jss41{flex-grow:0;max-width:50%;flex-basis:50%}.jss42{flex-grow:0;max-width:58.333333%;flex-basis:58.333333%}.jss43{flex-grow:0;max-width:66.666667%;flex-basis:66.666667%}.jss44{flex-grow:0;max-width:75%;flex-basis:75%}.jss45{flex-grow:0;max-width:83.333333%;flex-basis:83.333333%}.jss46{flex-grow:0;max-width:91.666667%;flex-basis:91.666667%}.jss47{flex-grow:0;max-width:100%;flex-basis:100%}@media(min-width:600px){.jss48{flex-grow:0;max-width:none;flex-basis:auto}.jss49{flex-grow:1;max-width:100%;flex-basis:0}.jss50{flex-grow:0;max-width:8.333333%;flex-basis:8.333333%}.jss51{flex-grow:0;max-width:16.666667%;flex-basis:16.666667%}.jss52{flex-grow:0;max-width:25%;flex-basis:25%}.jss53{flex-grow:0;max-width:33.333333%;flex-basis:33.333333%}.jss54{flex-grow:0;max-width:41.666667%;flex-basis:41.666667%}.jss55{flex-grow:0;max-width:50%;flex-basis:50%}.jss56{flex-grow:0;max-width:58.333333%;flex-basis:58.333333%}.jss57{flex-grow:0;max-width:66.666667%;flex-basis:66.666667%}.jss58{flex-grow:0;max-width:75%;flex-basis:75%}.jss59{flex-grow:0;max-width:83.333333%;flex-basis:83.333333%}.jss60{flex-grow:0;max-width:91.666667%;flex-basis:91.666667%}.jss61{flex-grow:0;max-width:100%;flex-basis:100%}}@media(min-width:960px){.jss62{flex-grow:0;max-width:none;flex-basis:auto}.jss63{flex-grow:1;max-width:100%;flex-basis:0}.jss64{flex-grow:0;max-width:8.333333%;flex-basis:8.333333%}.jss65{flex-grow:0;max-width:16.666667%;flex-basis:16.666667%}.jss66{flex-grow:0;max-width:25%;flex-basis:25%}.jss67{flex-grow:0;max-width:33.333333%;flex-basis:33.333333%}.jss68{flex-grow:0;max-width:41.666667%;flex-basis:41.666667%}.jss69{flex-grow:0;max-width:50%;flex-basis:50%}.jss70{flex-grow:0;max-width:58.333333%;flex-basis:58.333333%}.jss71{flex-grow:0;max-width:66.666667%;flex-basis:66.666667%}.jss72{flex-grow:0;max-width:75%;flex-basis:75%}.jss73{flex-grow:0;max-width:83.333333%;flex-basis:83.333333%}.jss74{flex-grow:0;max-width:91.666667%;flex-basis:91.666667%}.jss75{flex-grow:0;max-width:100%;flex-basis:100%}}@media(min-width:1280px){.jss76{flex-grow:0;max-width:none;flex-basis:auto}.jss77{flex-grow:1;max-width:100%;flex-basis:0}.jss78{flex-grow:0;max-width:8.333333%;flex-basis:8.333333%}.jss79{flex-grow:0;max-width:16.666667%;flex-basis:16.666667%}.jss80{flex-grow:0;max-width:25%;flex-basis:25%}.jss81{flex-grow:0;max-width:33.333333%;flex-basis:33.333333%}.jss82{flex-grow:0;max-width:41.666667%;flex-basis:41.666667%}.jss83{flex-grow:0;max-width:50%;flex-basis:50%}.jss84{flex-grow:0;max-width:58.333333%;flex-basis:58.333333%}.jss85{flex-grow:0;max-width:66.666667%;flex-basis:66.666667%}.jss86{flex-grow:0;max-width:75%;flex-basis:75%}.jss87{flex-grow:0;max-width:83.333333%;flex-basis:83.333333%}.jss88{flex-grow:0;max-width:91.666667%;flex-basis:91.666667%}.jss89{flex-grow:0;max-width:100%;flex-basis:100%}}@media(min-width:1920px){.jss90{flex-grow:0;max-width:none;flex-basis:auto}.jss91{flex-grow:1;max-width:100%;flex-basis:0}.jss92{flex-grow:0;max-width:8.333333%;flex-basis:8.333333%}.jss93{flex-grow:0;max-width:16.666667%;flex-basis:16.666667%}.jss94{flex-grow:0;max-width:25%;flex-basis:25%}.jss95{flex-grow:0;max-width:33.333333%;flex-basis:33.333333%}.jss96{flex-grow:0;max-width:41.666667%;flex-basis:41.666667%}.jss97{flex-grow:0;max-width:50%;flex-basis:50%}.jss98{flex-grow:0;max-width:58.333333%;flex-basis:58.333333%}.jss99{flex-grow:0;max-width:66.666667%;flex-basis:66.666667%}.jss100{flex-grow:0;max-width:75%;flex-basis:75%}.jss101{flex-grow:0;max-width:83.333333%;flex-basis:83.333333%}.jss102{flex-grow:0;max-width:91.666667%;flex-basis:91.666667%}.jss103{flex-grow:0;max-width:100%;flex-basis:100%}}.jss4{padding-left:env(safe-area-inset-left);padding-right:env(safe-area-inset-right)}.jss4 a{color:#b3003d;text-decoration:none}.jss5{display:flex;margin-top:2.5rem;justify-content:center}.jss6{overflow:hidden;max-width:1000px}.jss2{top:0;left:0;width:100%;height:100%;z-index:-1;overflow:hidden;position:absolute;pointer-events:none;background-color:#fff}@media(max-width:599.95px){.jss2{top:-40vh}}.jss3{top:0;left:50%;width:100%;height:3000px;z-index:1;position:absolute;min-width:1920px;transform:translate3d(-50%,0,0);will-change:transform;pointer-events:none;background-color:#fff}.jss207{background:#ffc400;text-align:center}@media(max-width:599.95px){.jss207{margin-top:3rem}}@media(max-width:1279.95px){.jss207{padding:7.5rem 5px;margin-top:15rem}}@media(min-width:960px){.jss207{margin:40vh 0 0;height:60vh;display:flex;min-height:250px;align-items:center;justify-content:center}}.jss208{font-weight:bold;margin-bottom:20px}.jss208 a{color:#333}.jss208 a:hover{text-decoration:underline}@media(max-width:599.95px){.jss104{margin-top:5rem}}@media(min-width:600px){.jss104{margin-top:15rem}}@media(min-width:960px){.jss104{height:100vh;margin:0;padding:0 5px;display:flex;min-height:600px;flex-direction:column;justify-content:center}}@media(max-width:959.95px){.jss104{padding:5rem 5px 0}}.jss105{font-weight:bold;margin-bottom:20px}.jss1{height:auto;display:block;margin-top:0}@media(min-width:960px){.jss1{padding:5rem 0 0}}@media(max-width:959.95px){.jss1{padding:0}}</style><title data-react-helmet="true">Installing custom Linux on Raspberry Pi 2 | Igor Rzegocki personal webpage and blog</title><link data-react-helmet="true" rel="shortcut icon" type="image/png" href="/static/favicon-9bbd101a3039c60b0eff2f552a2db6bf.png"/><link data-react-helmet="true" rel="canonical" href="https:/www.rzegocki.pl/blog/installing-custom-linux-on-raspberry-pi-2/"/><meta data-react-helmet="true" name="msapplication-config" content="/static/browserconfig-09e19ac7a78d68293c22953898762a5f.xml"/><meta data-react-helmet="true" name="description" content="Few days ago, I gave myself a present, which (at the very beginning) I was planning to power
up with OSMC and use it as HTPC. However, in a…"/><meta data-react-helmet="true" name="image" content="https://www.rzegocki.pl/static/e767b6d27674acf40393e80f07e70539/2f7e7/installing-custom-linux-on-raspberry-pi-2.jpg"/><meta data-react-helmet="true" property="og:url" content="https:/www.rzegocki.pl/blog/installing-custom-linux-on-raspberry-pi-2/"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="Installing custom Linux on Raspberry Pi 2"/><meta data-react-helmet="true" property="og:description" content="Few days ago, I gave myself a present, which (at the very beginning) I was planning to power
up with OSMC and use it as HTPC. However, in a…"/><meta data-react-helmet="true" property="og:image" content="https://www.rzegocki.pl/static/e767b6d27674acf40393e80f07e70539/2f7e7/installing-custom-linux-on-raspberry-pi-2.jpg"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content="ajgon"/><meta data-react-helmet="true" name="twitter:title" content="Installing custom Linux on Raspberry Pi 2"/><meta data-react-helmet="true" name="twitter:description" content="Few days ago, I gave myself a present, which (at the very beginning) I was planning to power
up with OSMC and use it as HTPC. However, in a…"/><meta data-react-helmet="true" name="twitter:image" content="https://www.rzegocki.pl/static/e767b6d27674acf40393e80f07e70539/2f7e7/installing-custom-linux-on-raspberry-pi-2.jpg"/><script nonce="9c737cda9c0353592e70a2213073d715bb26b45f" data-react-helmet="true" type="application/ld+json">[{"@context":"http://schema.org","@type":"WebSite","url":"https:/www.rzegocki.pl/","name":"Installing custom Linux on Raspberry Pi 2","alternateName":"Igor Rzegocki personal webpage and blog"},{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https:/www.rzegocki.pl/","name":"Blog","image":"https://www.rzegocki.pl/static/e767b6d27674acf40393e80f07e70539/2f7e7/installing-custom-linux-on-raspberry-pi-2.jpg"}},{"@type":"ListItem","position":2,"item":{"@id":"https:/www.rzegocki.pl/blog/installing-custom-linux-on-raspberry-pi-2/","name":"Installing custom Linux on Raspberry Pi 2","image":"https://www.rzegocki.pl/static/e767b6d27674acf40393e80f07e70539/2f7e7/installing-custom-linux-on-raspberry-pi-2.jpg"}}]},{"@context":"http://schema.org","@type":"BlogPosting","url":"https:/www.rzegocki.pl/","name":"Installing custom Linux on Raspberry Pi 2","alternateName":"Igor Rzegocki personal webpage and blog","headline":"Installing custom Linux on Raspberry Pi 2","image":{"@type":"ImageObject","url":"https://www.rzegocki.pl/static/e767b6d27674acf40393e80f07e70539/2f7e7/installing-custom-linux-on-raspberry-pi-2.jpg"},"mainEntityOfPage":{"@type":"WebPage","@id":"https:/www.rzegocki.pl/"},"publisher":{"@type":"Organization","name":"Igor Rzegocki","logo":{"@type":"ImageObject","url":"https://www.rzegocki.pl//icons/icon-512x512.png"}},"datePublished":"April 19, 2015","dateModified":"April 19, 2015","author":"Igor Rzegocki","description":"Few days ago, I gave myself a present, which (at the very beginning) I was planning to power\nup with OSMC and use it as HTPC. However, in a…"}]</script><style nonce="9c737cda9c0353592e70a2213073d715bb26b45f" data-react-helmet="true" type="text/css">body, #___gatsby { position: relative; font-family: Roboto, sans-serif }</style><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><style nonce="9c737cda9c0353592e70a2213073d715bb26b45f" type="text/css">.gatsby-resp-image-image{width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;color:transparent;}</style><link rel="shortcut icon" href="/icons/icon-48x48.png?v=97770e10ac04ff01849e4c50ace6feed"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#a2cf6e"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=97770e10ac04ff01849e4c50ace6feed"/><link rel="apple-touch-icon" sizes="70x70" href="/icons/icon-70x70.png?v=97770e10ac04ff01849e4c50ace6feed"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=97770e10ac04ff01849e4c50ace6feed"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=97770e10ac04ff01849e4c50ace6feed"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=97770e10ac04ff01849e4c50ace6feed"/><link rel="apple-touch-icon" sizes="150x150" href="/icons/icon-150x150.png?v=97770e10ac04ff01849e4c50ace6feed"/><link rel="apple-touch-icon" sizes="310x150" href="/icons/icon-310x150.png?v=97770e10ac04ff01849e4c50ace6feed"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=97770e10ac04ff01849e4c50ace6feed"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=97770e10ac04ff01849e4c50ace6feed"/><link rel="apple-touch-icon" sizes="310x310" href="/icons/icon-310x310.png?v=97770e10ac04ff01849e4c50ace6feed"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=97770e10ac04ff01849e4c50ace6feed"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=97770e10ac04ff01849e4c50ace6feed"/><link as="script" rel="preload" href="/webpack-runtime-0aff3b188cd74c018956.js"/><link as="script" rel="preload" href="/app-e50cc9b91d3fba0be94b.js"/><link as="script" rel="preload" href="/styles-492c144a7db22f2b9ff5.js"/><link as="script" rel="preload" href="/0-9ca1e78ab62db1b28caf.js"/><link as="script" rel="preload" href="/2-ae2e8f738bacaadc0009.js"/><link as="script" rel="preload" href="/3-2e3112c44d4359a440bf.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-2933c2eca45841599bed.js"/><link as="fetch" rel="preload" href="/page-data/blog/installing-custom-linux-on-raspberry-pi-2/page-data.json" crossorigin="anonymous"/></head><body id="about"><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><div class="jss2"><svg class="jss3" alt="" role="presentation" viewBox="0 0 1920 3000"><path transform="translate(-391.661,1890.007)rotate(-106)scale(1.2)" id="heart-path-3" d="M929.557 11C666.76 11 412.049 272.269 293.37 386.75 168.855 506.864-46 566.84-46 857.333c0 364.706 251.46 920.194 535.82 791.281 194.676-88.254 282.567-153.665 389.972-423.354 83.087-208.625 323.07-296.851 323.07-645.67C1202.862 214.883 1294.034 11 929.557 11z" fill="rgb(255,255,255)" stroke="#dcdcdc"></path><path transform="translate(-369.986,1734.425)rotate(-106)scale(1.2)" id="heart-path-2" d="M819.183 84C603.326 84 394.11 298.645 296.628 392.697 194.353 491.375 17.873 540.649 17.873 779.3c0 299.624 206.546 755.983 440.117 650.075 159.903-72.505 232.096-126.243 320.318-347.805 68.246-171.396 265.365-243.877 265.365-530.448C1043.673 251.499 1118.56 84 819.183 84z" fill="rgb(255,255,255)" stroke="#dcdcdc"></path><path transform="translate(-359.59,1586.12)rotate(-106)scale(1.2)" id="heart-path-1" d="M709.498 158c-171.062 0-336.86 170.013-414.112 244.508-81.05 78.16-220.906 117.187-220.906 306.215 0 237.322 163.682 598.787 348.781 514.902 126.72-57.429 183.931-99.993 253.844-275.484 54.084-135.757 210.296-193.167 210.296-420.15C887.4 290.672 946.747 158 709.498 158z" fill="#bfb9dd"></path></svg></div><div class="jss7 jss24 jss4" role="main"><div class="jss8 jss47 jss72 jss5"><div class="jss6"><section class="jss104 jss1"><div class="jss109 jss112 jss110 jss108 jss106"><div class="jss139"><div class="jss142"><h1 class="jss145 jss161 jss138">Installing custom Linux on Raspberry Pi 2</h1><span class="jss145 jss154 jss178 jss144">April 19, 2015</span></div><div class="jss141"><nav aria-labelledby="share-button-undefined"><button class="jss188 jss182" tabindex="0" type="button" aria-label="Share" id="share-button-undefined" aria-haspopup="true"><span class="jss187"><svg class="jss191" focusable="false" viewBox="0 0 24 24" aria-hidden="true" role="presentation"><path fill="none" d="M0 0h24v24H0z"></path><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"></path></svg></span></button></nav></div></div><div class="jss204 jss137 gatsby-image-wrapper" style="position:relative;overflow:hidden"><div style="width:100%;padding-bottom:75%"></div><img src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAABAACBf/EABYBAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAABPjsjzSyI/8QAGxAAAgMAAwAAAAAAAAAAAAAAAQIAERIDEyH/2gAIAQEAAQUCx4QZhZVB+La9Cz//xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAwEBPwGn/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGxAAAgMAAwAAAAAAAAAAAAAAAAECETEhUXH/2gAIAQEABj8CtRvwhJ8RZpXYk5Zhp//EABsQAQACAgMAAAAAAAAAAAAAAAEAETFBIWGB/9oACAEBAAE/IbjRTUDod2N+EbIeMo7BS8ED2Z//2gAMAwEAAgADAAAAENTP/8QAFhEBAQEAAAAAAAAAAAAAAAAAABEB/9oACAEDAQE/ENpX/8QAFREBAQAAAAAAAAAAAAAAAAAAEQD/2gAIAQIBAT8QCL//xAAcEAEAAgIDAQAAAAAAAAAAAAABABEhYTFBgVH/2gAIAQEAAT8QrczaFpt+EyxssBgeM7iUieywkJKd4j03JeBt3Dqd6f/Z" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/e767b6d27674acf40393e80f07e70539/4d406/installing-custom-linux-on-raspberry-pi-2.jpg 250w,
/static/e767b6d27674acf40393e80f07e70539/32ee9/installing-custom-linux-on-raspberry-pi-2.jpg 500w,
/static/e767b6d27674acf40393e80f07e70539/2f7e7/installing-custom-linux-on-raspberry-pi-2.jpg 1000w,
/static/e767b6d27674acf40393e80f07e70539/426ce/installing-custom-linux-on-raspberry-pi-2.jpg 1024w" sizes="(max-width: 1000px) 100vw, 1000px" /><img loading="lazy" sizes="(max-width: 1000px) 100vw, 1000px" srcset="/static/e767b6d27674acf40393e80f07e70539/4d406/installing-custom-linux-on-raspberry-pi-2.jpg 250w,
/static/e767b6d27674acf40393e80f07e70539/32ee9/installing-custom-linux-on-raspberry-pi-2.jpg 500w,
/static/e767b6d27674acf40393e80f07e70539/2f7e7/installing-custom-linux-on-raspberry-pi-2.jpg 1000w,
/static/e767b6d27674acf40393e80f07e70539/426ce/installing-custom-linux-on-raspberry-pi-2.jpg 1024w" src="/static/e767b6d27674acf40393e80f07e70539/2f7e7/installing-custom-linux-on-raspberry-pi-2.jpg" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><div class="jss206"><div class="jss107"><p>Few days ago, <a href="/files/3548ad80f20fd5b3c1ebb1c1c3eeeda4/rpi.jpeg">I gave myself a present</a>, which (at the very beginning) I was planning to power
up with <a href="https://osmc.tv/">OSMC</a> and use it as HTPC. However, in a meantime I had to switch my apartment, and put
my worn ATOM server offline for couple of hours - necessity I didn't like very much. This, and the fact that my server
got very noisy (I suspected power supply fan) convinced me to start looking for something new. And then I thought -
"Hey! I've got this awesome, little fella - I can attach Ethernet to it (or WiFi Dongle and LTE Hotspot from my phone)
to it and never worry about noise or being offline again!". And I did, however installing custom Debian distribution,
wasn't as trivial task as I expected...</p>
<!-- more -->
<h2>At the outset</h2>
<p>In theory, when following this guide, you don't need a monitor and keyboard to set up fully functional RPI2 Server.
However they are very helpful, when something doesn't go as planned :-). This is especially truthful, when you are
trying to set up WiFi networking and you are using some non-standard chipset WiFi dongle.</p>
<h2>Setting up Vagrant</h2>
<p>I strongly recommend, to use some kind of virtual machine, for this setup. This will save you from polluting your
global system with packages, which you probably won't need anymore. The easiest solution is to use
<a href="https://www.vagrantup.com/">Vagrant</a> with <a href="https://www.virtualbox.org/">VirtualBox</a> since they are both
multi-platform and easy to set up.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">vagrant init ubuntu/trusty64
vagrant up
vagrant <span class="token function">ssh</span></code></pre></div>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">sudo</span> -s <span class="token comment"># Change user to root</span>
<span class="token builtin class-name">cd</span> /vagrant <span class="token comment"># Use a shared folder, all files created here will be visible outside of VM</span></code></pre></div>
<p>If you do this, all code examples below (unless stated differently) will reflect to Vagrant root environment.</p>
<h2>Preparing SDCard Filesystem</h2>
<p>First of all, we need a properly partitioned image file, which later on we will copy to the SD card. Raspberry PI
doesn't come with any kind of BIOS or low level boot-up system - everything is loaded directly from SD Card. Moreover
RPI expects a FAT partition with firmware files at the very beginning of the SD Disk. But first things first - let's
install all the necessary packages:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment"># as root</span>
<span class="token function">apt-get</span> update
<span class="token function">apt-get</span> <span class="token function">install</span> -y <span class="token function">git</span> binfmt-support qemu qemu-user-static <span class="token function">debootstrap</span> kpartx lvm2 dosfstools</code></pre></div>
<p>Now we can setup the initial partitioning.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment"># as root</span>
<span class="token function">dd</span> <span class="token assign-left variable">if</span><span class="token operator">=</span>/dev/zero <span class="token assign-left variable">of</span><span class="token operator">=</span>rpi.img <span class="token assign-left variable">bs</span><span class="token operator">=</span>1M <span class="token assign-left variable">count</span><span class="token operator">=</span><span class="token number">768</span>
losetup -f --show rpi.img <span class="token comment"># returns loop device used later, usually /dev/loop0</span>
<span class="token function">fdisk</span> /dev/loop0</code></pre></div>
<p>We need to create two partitions. As I mentioned, the first one needs to be FAT16 partition (type <code class="language-text">e</code>), the second one
a Linux one (type <code class="language-text">83</code>). So, to do this in fdisk invoke:</p>
<div class="gatsby-highlight" data-language="txt"><pre class="language-txt"><code class="language-txt">n # Create new partition
p # Set it as primary...
1 # ...and first
[enter] # Start it from the beginning
+64M # And make it 64 Megabytes large (it is enough for the firmware)
t # Set partition type
e # to FAT16
n # Create new partition again
p # Set it as primary...
2 # ...and second
[enter] # Start when old partition ends...
[enter] # ...and use all available space
w # Write all changes to the image</code></pre></div>
<p>Next step is mounting those partitions as virtual devices and make filesystems on them:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment"># as root</span>
losetup -d /dev/loop0
kpartx -va rpi.img <span class="token comment"># This will create two /dev/mapper devices, usually loop0p1 and loop0p2</span>
mkfs.fat /dev/mapper/loop0p1
mkfs.ext4 /dev/mapper/loop0p2
<span class="token function">mkdir</span> boot root
<span class="token function">mount</span> /dev/mapper/loop0p1 boot
<span class="token function">mount</span> /dev/mapper/loop0p2 root</code></pre></div>
<p>If you have problems with partitioning the file using <code class="language-text">kpartx</code>, try to move it outside from <code class="language-text">/vagrant</code> dir to
some place in virtual filesystem (homedir is fine), follow this guide, and then copy <code class="language-text">.img</code> file back to <code class="language-text">/vagrant</code>.</p>
<h2>Installing and configuring Debian</h2>
<p>After that, we have two directories: <code class="language-text">boot</code> which will contain all RPI Firmware, and <code class="language-text">root</code> which will contain our
desired distro (Debian). Now, it's just a typical Debian bootstrapping. Since Raspberry Pi 2 finally
supports ARMv7, we can safely use Debian <code class="language-text">armhf</code> architecture, and have all goodies like hardware floating points,
out of the box.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment"># as root</span>
<span class="token function">debootstrap</span> --arch armhf --foreign wheezy root http://ftp.debian.org/debian/
<span class="token function">cp</span> /usr/bin/qemu-arm-static root/usr/bin/ <span class="token comment"># needed for syscall emulation</span>
<span class="token assign-left variable"><span class="token environment constant">LANG</span></span><span class="token operator">=</span>C <span class="token function">chroot</span> root /debootstrap/debootstrap --second-stage
<span class="token function">chroot</span> root /bin/bash -c <span class="token string">"echo <span class="token entity" title="\&quot;">\"</span>root:raspberry<span class="token entity" title="\&quot;">\"</span> | chpasswd"</span> <span class="token comment"># This will set root password to 'raspberry'</span></code></pre></div>
<p>Next we need to set a minimal set of configuration files, to actually boot our disto.</p>
<p><em>Note: In code headers, I used absolute paths in relation to your RPI root directory, so if you want to set up
<code class="language-text">/etc/fstab</code> you need to edit <code class="language-text">root/etc/fstab</code> (if you followed this guide).</em></p>
<p>First is <code class="language-text">/etc/fstab</code> which is used to mount initial partitions (boot and proc system).</p>
<p><code class="language-text">/etc/fstab</code></p>
<div class="gatsby-highlight" data-language="txt"><pre class="language-txt"><code class="language-txt">proc            /proc           proc    defaults        0       0
/dev/mmcblk0p1  /boot           vfat    defaults        0       0</code></pre></div>
<p>Next is hostname.</p>
<p><code class="language-text">/etc/hostname</code></p>
<div class="gatsby-highlight" data-language="txt"><pre class="language-txt"><code class="language-txt">raspberrypi2</code></pre></div>
<p><code class="language-text">/etc/hosts</code></p>
<div class="gatsby-highlight" data-language="txt"><pre class="language-txt"><code class="language-txt">127.0.0.1 raspberrypi2
::1 raspberrypi2</code></pre></div>
<p>We also need to set up urls for Debian repositories, so we can download and manage system packages.</p>
<p><code class="language-text">/etc/apt/sources.list</code></p>
<div class="gatsby-highlight" data-language="txt"><pre class="language-txt"><code class="language-txt">deb http://ftp.debian.org/debian/ wheezy main contrib non-free</code></pre></div>
<h2>Installing Raspberry Pi firmware</h2>
<p>You can do it manually, but I strongly recommend to use <a href="https://github.com/Hexxeh/rpi-update">Hexxeh excellent tool</a>.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment"># as root</span>
<span class="token function">mkdir</span> -p root/lib/modules
<span class="token function">curl</span> -L --output /usr/bin/rpi-update https://raw.githubusercontent.com/Hexxeh/rpi-update/master/rpi-update
<span class="token function">chmod</span> +x /usr/bin/rpi-update
<span class="token assign-left variable">SKIP_BACKUP</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">UPDATE_SELF</span><span class="token operator">=</span><span class="token number">0</span> <span class="token assign-left variable">BOOT_PATH</span><span class="token operator">=</span>boot <span class="token assign-left variable">ROOT_PATH</span><span class="token operator">=</span>root rpi-update
<span class="token builtin class-name">echo</span> <span class="token string">"dwc_otg.lpm_enable=0 console=ttyAMA0,115200 kgdboc=ttyAMA0,115200 console=tty1 root=/dev/mmcblk0p2 rootfstype=ext4 rw rootwait"</span> <span class="token operator">></span> boot/cmdline.txt</code></pre></div>
<p>And that's it! At this point, if you have a monitor, you can flash your SD Card, plug it in to your Raspberry, and see
if your Debian boots up. If you also have a keyboard, you should be able to log in to it as well, and do the following
steps from there. Otherwise, keep using your <code class="language-text">rpi.img</code>.</p>
<h2>Chrooting</h2>
<p><em>You can skip this step, if you already booted up your system and configuring it from there.</em></p>
<p>Beforehand we need to mount <code class="language-text">/dev</code> and <code class="language-text">/proc</code> filesystems, to create a fully functional chrooted environment.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment"># as root</span>
<span class="token function">mount</span> -t proc proc root/proc
<span class="token function">mount</span> --rbind /dev root/dev</code></pre></div>
<p>Then, all is left is to simply type:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment"># as root</span>
<span class="token function">chroot</span> root /bin/bash</code></pre></div>
<h2>Setting up necessary configuration</h2>
<p>At first, disable installation of recommended packages - for example, most of the time, we don't want 3/4 of Xserver
while installing vim.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment"># as raspberry root</span>
<span class="token builtin class-name">echo</span> <span class="token string">'APT::Install-Recommends "0";'</span> <span class="token operator">></span> /etc/apt/apt.conf.d/00norecommends</code></pre></div>
<p>Next we need to setup a minimal dose of packages, which are necessary to use our distro — <code class="language-text">locales</code> for
basic UTF8 language support, and <code class="language-text">openssh-server</code> to allow us to actually sign in to the machine. I also
recommend to install <code class="language-text">ntp</code> to avoid any timestamp-based confusions.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment"># as raspberry root</span>
<span class="token function">apt-get</span> update
<span class="token assign-left variable"><span class="token environment constant">LANG</span></span><span class="token operator">=</span>C <span class="token function">apt-get</span> <span class="token function">install</span> locales
<span class="token builtin class-name">echo</span> <span class="token string">"en_US.UTF-8 UTF-8"</span> <span class="token operator">>></span> /etc/locale.gen
locale-gen
<span class="token function">apt-get</span> <span class="token function">install</span> openssh-server openssh-blacklist openssh-blacklist-extra ntp</code></pre></div>
<p>If you plan, to configure your system with Ansible or some other auto-tool, it's also a good idea to install
sudo, python and aptitude.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment"># as raspberry root</span>
<span class="token function">apt-get</span> <span class="token function">install</span> <span class="token function">sudo</span> python <span class="token function">aptitude</span></code></pre></div>
<h2>Configuring network</h2>
<p>Easiest case scenario is Ethernet with DHCP. Keep in mind, that if you don't plan to use ethernet at all (only WiFi),
you should skip this step, as it will slow down boot up of Pi significantly (the machine will try to establish ethernet
connection for over 60s). Otherwise, all you need to do is add following lines to <code class="language-text">/etc/network/interfaces</code>:</p>
<p><code class="language-text">/etc/network/interfaces</code> on Raspberry</p>
<div class="gatsby-highlight" data-language="txt"><pre class="language-txt"><code class="language-txt">auto lo
iface lo inet loopback

auto eth0
iface eth0 inet dhcp
dns-nameservers 208.67.222.222 208.67.220.220</code></pre></div>
<p>It's a good idea to force nameservers (i.e. to OpenDNS as in example above) - many providers, are setting default DNS
servers to Google DNS, <a href="https://developers.google.com/speed/public-dns/faq#privacy">which is not the best choice</a>.</p>
<p>To make <code class="language-text">dns-nameservers</code> directive actually work, you would need a <code class="language-text">resolvconf</code> package.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment"># as raspberry root</span>
<span class="token function">apt-get</span> <span class="token function">install</span> resolvconf</code></pre></div>
<p>And that's it. It's getting more complicated if you want to configure a WiFi network as well.</p>
<h3>Configuring Wi-Fi</h3>
<p>In my case, I used a <a href="https://www.element14.com/community/docs/DOC-48541?ICID=rpiaccsy-access-products#">WiPi</a> WiFi
adapter. If you have a different one, you need to use a <a href="https://packages.debian.org/source/wheezy/firmware-nonfree">proper firmware</a>
instead of the one which I used.</p>
<p>At first, you need to install all necessary dependencies...</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment"># as raspberry root</span>
<span class="token function">apt-get</span> <span class="token function">install</span> firmware-ralink <span class="token comment"># Use your firmware driver here</span>
<span class="token function">apt-get</span> <span class="token function">install</span> wireless-tools wpasupplicant</code></pre></div>
<p>... and configure a network interface:</p>
<p><code class="language-text">/etc/network/interfaces</code> on Raspberry</p>
<div class="gatsby-highlight" data-language="txt"><pre class="language-txt"><code class="language-txt"># Add those lines at the end of the file

allow-hotplug wlan0
auto wlan0
iface wlan0 inet dhcp
dns-nameservers 208.67.222.222 208.67.220.220
wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf</code></pre></div>
<p>Last thing is configuring all networks you wish your Raspberry to connect. This is very convinient, if you plan to move
your machine between home, work etc. - you can configure all trusted networks credentials, and later - just power on
and be online.</p>
<p><code class="language-text">/etc/wpa_supplicant/wpa_supplicant.conf</code> on Raspberry</p>
<div class="gatsby-highlight" data-language="txt"><pre class="language-txt"><code class="language-txt">ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
update_config=1

network={
    ssid=&quot;MyHomeNetwork&quot;
    psk=&quot;MyHomePassword&quot;
    id_str=&quot;home&quot;
}

network={
    ssid=&quot;MyWorkNetwork&quot;
    psk=&quot;MyWorkPassword&quot;
    id_str=&quot;work&quot;
}</code></pre></div>
<h2>Flashing</h2>
<p>It's good idea, to do the cleanup after finishing the image.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment"># as raspberry root</span>
<span class="token function">apt-get</span> autoremove --purge
<span class="token function">apt-get</span> clean</code></pre></div>
<p>Now you can exit the chroot (and VM if you used it), and flash your SDCard. In OSX you can do this by:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">diskutil list <span class="token comment"># Check for you SDCard disk number</span>
diskutil umountDisk /dev/diskX <span class="token comment"># Where X is a disc number</span>
<span class="token function">sudo</span> <span class="token function">dd</span> <span class="token assign-left variable">bs</span><span class="token operator">=</span>1m <span class="token assign-left variable">if</span><span class="token operator">=</span>rpi.img <span class="token assign-left variable">of</span><span class="token operator">=</span>/dev/rdiskX
diskutil <span class="token function">eject</span> /dev/diskX</code></pre></div>
<p>Notice, that for <code class="language-text">dd</code> I'm using <code class="language-text">/dev/rdiskX</code> instead of the <code class="language-text">/dev/diskX</code>. It's because how OSX handles disk devices.
<a href="https://superuser.com/questions/631592/why-is-dev-rdisk-about-20-times-faster-than-dev-disk-in-mac-os-x">You can read more here</a>
if you are intereseted.</p>
<p>In Linux it's as simple as typing:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">dd</span> <span class="token assign-left variable">if</span><span class="token operator">=</span>rpi.img <span class="token assign-left variable">of</span><span class="token operator">=</span>/dev/sdX <span class="token comment"># Where X is a disk letter</span></code></pre></div>
<h2>Finishing up</h2>
<p>Put your card into your Raspberry and boot it up! If everything goes well, you should be able to SSH to it.
If you haven't use monitor and keyboard, you might end not knowing which IP address SSH to. The easiest solution for
this problem is use <code class="language-text">nmap</code> to detect all open hosts in your subnet, then check which one responds to <code class="language-text">root</code> user
with <code class="language-text">raspberry</code> password.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">nmap -p22 -oG - --open <span class="token number">192.168</span>.0.0/24 <span class="token operator">|</span> <span class="token function">grep</span> Host <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print <span class="token variable">$2</span>}'</span> <span class="token operator">|</span> <span class="token function">sort</span> <span class="token operator">|</span> <span class="token function">uniq</span></code></pre></div>
<p>Don't forget to change your root password (or disable root login at all) and to secure your system after you sign in!
The next thing, you might notice is, that your Linux partition is pretty small (768MB). This is due to fact, that
the original image was created as small as possible, to reduce flashing time. Thankfully, you can expand it pretty
easily.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">fdisk</span> /dev/mmcblk0
<span class="token comment"># In fdisk</span>
d <span class="token comment"># Delete partition...</span>
<span class="token number">2</span> <span class="token comment"># ... the linux partition (don't worry, you won't lose your data)</span>
n <span class="token comment"># Create ...</span>
p <span class="token comment"># ... primary partition ...</span>
<span class="token number">2</span> <span class="token comment"># number 2</span>
<span class="token punctuation">[</span>enter<span class="token punctuation">]</span> <span class="token comment"># Start from the beginning of the free space (as the previous did) ...</span>
<span class="token punctuation">[</span>enter<span class="token punctuation">]</span> <span class="token comment"># ... but end up filling all available space</span>
w <span class="token comment"># write changes</span>
<span class="token comment"># In shell</span>
<span class="token function">reboot</span> <span class="token comment"># to make new partition visible for the system</span>
resize2fs /dev/mmcblk0p2 <span class="token comment"># Resize filesystem to fill up whole partition space</span></code></pre></div>
<p>Happy hacking!</p>
<h2>[May 04 update] Debian Jessie</h2>
<p>Few days ago, <a href="https://www.debian.org/News/2015/20150426">Debian Jessie came out</a>. I checked this guide against it, and
everything should work out of the box. However, few slight alterations are necessary:</p>
<ul>
<li>change <code class="language-text">wheezy</code> to <code class="language-text">jessie</code> in debootstrap phase and in <code class="language-text">/etc/apt/sources.list</code> file</li>
<li>the new <code class="language-text">/etc/network/interfaces.d</code> format was introduced, so instead putting all of your newtork conf in one file,
you can split it to separate files and them put in this directory (i.e. <code class="language-text">/etc/network/interfaces.d/lo</code>,
<code class="language-text">etc/network/interfaces.d/wifi</code> etc.).</li>
<li>you might also have problems with <code class="language-text">root</code> login via SSH, if so, set <code class="language-text">PermitRootLogin yes</code>
in <code class="language-text">/etc/ssh/sshd_config</code> (but don't forget, to set it back to <code class="language-text">no</code> when you finish configuration!).</li>
</ul></div><div id="disqus_thread"></div></div></div></section></div></div></div><section class="jss207" id="contact" aria-label="Contact"></section></div></div><script nonce="9c737cda9c0353592e70a2213073d715bb26b45f" id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/installing-custom-linux-on-raspberry-pi-2/";window.webpackCompilationHash="e8a272a284c5a6f79873";/*]]>*/</script><script nonce="9c737cda9c0353592e70a2213073d715bb26b45f" id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-e50cc9b91d3fba0be94b.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-2933c2eca45841599bed.js"],"component---src-pages-404-js":["/component---src-pages-404-js-82db939d0407d7a53db5.js"],"component---src-pages-avatar-js":["/component---src-pages-avatar-js-f08881d5a7af22d568cc.js"],"component---src-pages-index-js":["/component---src-pages-index-js-a109d855aabe63996c42.js"]};/*]]>*/</script><script nonce="9c737cda9c0353592e70a2213073d715bb26b45f" src="/component---src-templates-blog-post-js-2933c2eca45841599bed.js" integrity="sha512-unDLLR2ACS+MPNqO8GzFbpyqBmaxA65eqI3Q0kyAxKNQvpevbpohunyDBX1qTK5D/gso0k4Hmovf+MNcaK4+RQ==" async=""></script><script nonce="9c737cda9c0353592e70a2213073d715bb26b45f" src="/3-2e3112c44d4359a440bf.js" integrity="sha512-mToiho8B55JB7J9swjLT7NKpQQpdrOI5HvwsLfUQDp4Q2hQkTYAIWJbyBfhBy2ZNiIdn60qTVisww/EsCMaKmw==" async=""></script><script nonce="9c737cda9c0353592e70a2213073d715bb26b45f" src="/2-ae2e8f738bacaadc0009.js" integrity="sha512-WR62cd4khE8czv8Ed6SR3SKGbbNZaKHgukRwLWBMPc0ZQsFJfFlw1tFdjoP8lAF/vn99KX2pfyzpMGdUPA7E6w==" async=""></script><script nonce="9c737cda9c0353592e70a2213073d715bb26b45f" src="/0-9ca1e78ab62db1b28caf.js" integrity="sha512-bJYc4o3vr0Z2PaxBb9tbOK54qMPEQR0h1dqPlRC404OIYAsEN1cZdVro8ttDTaU0Zb75BpZk89D+ZV7I0lQMPg==" async=""></script><script nonce="9c737cda9c0353592e70a2213073d715bb26b45f" src="/styles-492c144a7db22f2b9ff5.js" integrity="sha512-JiZuxDeQTjDCCD937KtDZhRzjvQl+9bYnxuBb7pPzdKgWdHf3EKTSAEJBkymbrY/A4g6WOUNXqw7aPKXnBi8rQ==" async=""></script><script nonce="9c737cda9c0353592e70a2213073d715bb26b45f" src="/app-e50cc9b91d3fba0be94b.js" integrity="sha512-KuI+cTyHxLBpI5w5aAnQbhHMMhWft0WNibMvdSUDLVMng5TQS4Omyg5fqmSsSrEg8w2La7UkRH7DD1cGjQQpyw==" async=""></script><script nonce="9c737cda9c0353592e70a2213073d715bb26b45f" src="/webpack-runtime-0aff3b188cd74c018956.js" integrity="sha512-YRnIrtEsGaCNpsDjoWifb7RYS1ErzmrXrgT4P8BgNl7CYhmms0OFRjkybhASigELt5eGmUnJZ2FOR8zruXr2/Q==" async=""></script></body></html>