{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/adding-email-server-autoconfig-and-autodiscover/","result":{"data":{"allFile":{"edges":[{"node":{"publicURL":"/static/c572c87cb69383ddb09f62960f02f969/browserconfig.xml"}}]},"site":{"siteMetadata":{"siteUrl":"https://www.rzegocki.pl"}},"avatar":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEu0lEQVQ4y22TfUxTVxjGD72lvW1HZclIJrqZGEw0WZj7Y8syp4ssaJxzcQzUhSBuOkDUyVCZVScyCDGo4LbAdMvAzKhj0MqHVYdGlA0HEwXlswhFgTKnFtoi2N57e56d25VWzd7kyXs+f/c57zmXEBYqlconjuOIVqslarVa7qtYns+0iamc6VOmGUwqnud9a5gUT7RJIPwAEh0dTRYvXiz3NzNZ2GI8IxfTLaYKNv+6H8T9L1D+mj+/ouZ5qtFoZIBXFRrqZWMiMybJULVKBdaX51qYiYgn98qmAnY1PK9gEMIWHmVtKDjOrVCq6PTISKrV6WhYmJ6qeQ3VTwuXdDqd2w+99EJEhA/0LNBXC16jmcfaQmioCpEzZtKDe7dQQ0YK/ThhJZbGxmDFslianLiKznzpZcrqLfocq9UJU4wgkFdzSnYhGl6dqVLzWPLuO+KFk4UYbCilV8oL0VBRhFZzCRpZPl+WR3N2pNEXp88Q/S6PyQyWfccmUx1/OU1zZs9Ce12pKHQZ0ddSB0huwNkP3G8DIMLWdRWTHUZ8m/uFSBRKaDWaI0qlMgj0n38KuOiN+fNEr6UagvUSZQQIEsWYwwmH04lHE4/lIUptTdTVeorOjZoFtmeB/2KDwLDndIEbLyvY1iH1mCAMNUny5sceEQ/vDWHcbsPomNMH9Iy0SeitwgHDZ9dZn8gKPB0ZKA9Mdp7mYLtApN7aE0JPFYRes+h1jYAKk5AGGyEM1LPje+B1uyD2XxDdXSZMdJwummg3koctv3BPvUM5hJ5qhae7mjhvVsSKlhp4uk9TobuKym1Ya4GBWoi9tRAstZTNQeqtkZxtFa8JlhrZhO+VBCJ67mzm8i4ZaC5X3G/9lYy3m35GnxmSpUYcvVGOeuOPuGQqg/1GJby9NSK9fQbDzadKu+qPkp4rpdyS5OUkKioqCPR6vSR99yYyZ00S0b35KpeWtaHhoqmIOTsr4c551J84AGNJDnN5Dug3e83lB7EuI8kaE78wImZNLFmV8mEIpTQIlGt47/4INz7uJC7X2OqbnW3IKdwnFRfvodfrfoCt+RSGm07i6pliHP7GgD0Fu4XGv37HnUFrpvVuH+m+3cnJjKeAbo+ocHskuV0pX2VtXZW4dmsSNhrSkJf3CfJzk5G+MwXJGcn0eOUx+QXIcQ3Di9iem+Qp4NDQcEhX3yDp7BsOd9gfWCddozh0pMC78csNNDN7C83NXod9uxKxPXsT0g0pNLcomzrtI7A/uOcZc03Mc45PEofDoQgAm/+4HPLT2XZScqZTP9pu/vvRLSO+3r9DSs1KgSEvjX5XvB6Fh9dj7/5UbNyZQvMLsryeDhPGLRcdzX2OyBtWBxnovx0SABqqncTefk4BWyOB1Zz2J/tvs3K3Yhv7vXIOfS4dKkn3Fn2fTvMPb6YZ+7ZSQ36m2MDqaWs6vr3naiVpu1LO9Qzag0f+4Lf/Xntq+gaF8ehXJCZhxYKFMW8Ly1YuQVziSsSvXYWEdatZjkfC2jgsj1uGpR+9V0U8CNlVf5C8nxpH7trFINB6udSXFYSbsv0Wr+RbtSrtdb027Fq4flo308Pn9eF2vU7/j06toypFaCUrWuCYLefKfPlfC5bF+yGL26YAAAAASUVORK5CYII=","width":192,"height":192,"src":"/static/288480e5b155377d1ae8a338e27da1ef/f20a7/ajgon.png","srcSet":"/static/288480e5b155377d1ae8a338e27da1ef/f20a7/ajgon.png 1x,\n/static/288480e5b155377d1ae8a338e27da1ef/6c7c3/ajgon.png 1.5x,\n/static/288480e5b155377d1ae8a338e27da1ef/6a040/ajgon.png 2x"}}},"allMenuJson":{"edges":[{"node":{"id":"2e6028ce-fad1-487b-bace-6117f33e393f","name":"About","to":"about"}},{"node":{"id":"27dd36a1-f8af-4d43-8bab-c37310058c1e","name":"Technologies","to":"technologies"}},{"node":{"id":"447e8185-ac1a-42bc-a28c-4bc90e52735a","name":"Blog","to":"blog"}},{"node":{"id":"a9fc4afa-7b78-44d2-b015-4dac2ac2afe8","name":"Contact","to":"contact"}}]},"allShareJson":{"edges":[{"node":{"id":"2f0a723b-2772-40bf-9edc-70dd70337f10","slug":"facebook","name":"Facebook","url":"https://www.facebook.com/sharer/sharer.php?u=%POSTURL%;display=popup","width":626,"height":457}},{"node":{"id":"f5678f7f-ae05-444a-af1a-1167a30d0cce","slug":"linkedin","name":"LinkedIn","url":"https://www.linkedin.com/shareArticle?mini=true&amp;url=%POSTURL%&amp;title=","width":600,"height":450}},{"node":{"id":"4cbf0a18-d389-4583-98ac-501e59f1be18","slug":"twitter","name":"Twitter","url":"https://twitter.com/share?url=%POSTURL%&amp;text=","width":500,"height":550}}]},"allSocialJson":{"edges":[{"node":{"id":"587d3ac1-40e9-4cc1-a610-f8cb9657bfbc","name":"GitHub","slug":"github","url":"https://github.com/ajgon"}},{"node":{"id":"d97c572d-7410-413c-89bd-ee620e901fce","name":"LinkedIn","slug":"linkedin","url":"https://www.linkedin.com/in/ajgon"}},{"node":{"id":"6928828d-8198-4387-a5f6-3a1036179c08","name":"Keybase","slug":"keybase","url":"https://keybase.io/ajgon"}}]},"markdownRemark":{"html":"<p>One of the nicest, yet badly documented features in new MUAs is email servers autodiscovering. When you type your e-mail address in configuration window, modern MUA is trying to determine what IMAP/POP3 servers are, and how to connect to them. To do so, they assume, that your email contains a server domain name. A nice assumption, but often not relevant (google apps is a good example here). Thankfully, there is also another way - asking an original server on a specially configured domain what those parameters are.</p>\n<!-- more -->\n<p>In a perfect world, there would one standard for that - in our world however, there are two: <code class=\"language-text\">autoconfig</code> (Mozilla favored) and <code class=\"language-text\">autodiscover</code> (Microsoft promoted). So we have to to set them together - thankfully both are based on simple XML files, so it's not a big deal.</p>\n<h2>autoconfig (Mozilla Thunderbird)</h2>\n<p>This one is (im my opinion) is more clean and advanced. To use it, just make your webserver to return below XML file on <code class=\"language-text\">autoconfig.</code> subdomain. So (for example) if you have email <code class=\"language-text\">myname@mydomain.com</code> - <code class=\"language-text\">autoconfig.mydomain.com</code> should return:</p>\n<p><code class=\"language-text\">autoconfig.xml</code></p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>clientConfig</span> <span class=\"token attr-name\">version</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>1.1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>emailProvider</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>mydomain.com<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>domain</span><span class=\"token punctuation\">></span></span>mydomain.com<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>domain</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>displayName</span><span class=\"token punctuation\">></span></span>Mail<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>displayName</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>displayShortName</span><span class=\"token punctuation\">></span></span>Mail<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>displayShortName</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>incomingServer</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>pop3<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>hostname</span><span class=\"token punctuation\">></span></span>mail.mydomain.com<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>hostname</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>port</span><span class=\"token punctuation\">></span></span>995<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>port</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>socketType</span><span class=\"token punctuation\">></span></span>SSL<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>socketType</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>authentication</span><span class=\"token punctuation\">></span></span>password-cleartext<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>authentication</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>username</span><span class=\"token punctuation\">></span></span>%EMAILADDRESS%<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>username</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>pop3</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>leaveMessagesOnServer</span><span class=\"token punctuation\">></span></span>true<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>leaveMessagesOnServer</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>downloadOnBiff</span><span class=\"token punctuation\">></span></span>true<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>downloadOnBiff</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>daysToLeaveMessagesOnServer</span><span class=\"token punctuation\">></span></span>10<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>daysToLeaveMessagesOnServer</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>pop3</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>incomingServer</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>incomingServer</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>imap<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>hostname</span><span class=\"token punctuation\">></span></span>mail.mydomain.com<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>hostname</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>port</span><span class=\"token punctuation\">></span></span>993<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>port</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>socketType</span><span class=\"token punctuation\">></span></span>SSL<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>socketType</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>authentication</span><span class=\"token punctuation\">></span></span>password-cleartext<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>authentication</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>username</span><span class=\"token punctuation\">></span></span>%EMAILADDRESS%<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>username</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>incomingServer</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>outgoingServer</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>smtp<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>hostname</span><span class=\"token punctuation\">></span></span>mail.mydomain.com<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>hostname</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>port</span><span class=\"token punctuation\">></span></span>587<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>port</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>socketType</span><span class=\"token punctuation\">></span></span>STARTTLS<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>socketType</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>authentication</span><span class=\"token punctuation\">></span></span>password-cleartext<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>authentication</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>username</span><span class=\"token punctuation\">></span></span>%EMAILADDRESS%<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>username</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>outgoingServer</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>emailProvider</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>clientConfig</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>If you have an email server on a different domain than your email account, simply add redirect to your httpd server. For example in nginx:</p>\n<p><code class=\"language-text\">/etc/nginx.conf</code></p>\n<div class=\"gatsby-highlight\" data-language=\"nginx\"><pre class=\"language-nginx\"><code class=\"language-nginx\"><span class=\"token keyword\">server</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">server_name</span> autoconfig<span class=\"token punctuation\">.</span>myotherdomain<span class=\"token punctuation\">.</span>com<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">rewrite</span> <span class=\"token operator\">^</span><span class=\"token punctuation\">.</span><span class=\"token operator\">*</span> <span class=\"token keyword\">https</span><span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>mydomain<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>config<span class=\"token operator\">-</span>v1<span class=\"token punctuation\">.</span><span class=\"token number\">1.</span>xml permanent<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>And that's it! From now on, your email will be automatically discovered by Thunderbird.</p>\n<h2>autodiscover (Microsoft Outlook)</h2>\n<p>Procedure is very similar here. You just have to set <code class=\"language-text\">autodiscover.</code> domain, and XML file is slightly different. So, for example <code class=\"language-text\">autodiscover.mydomain.com</code> should return:</p>\n<p><code class=\"language-text\">autodiscover.xml</code></p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Autodiscover</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>http://schemas.microsoft.com/exchange/autodiscover/responseschema/2006<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Response</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>http://schemas.microsoft.com/exchange/autodiscover/outlook/responseschema/2006a<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Account</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>AccountType</span><span class=\"token punctuation\">></span></span>email<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>AccountType</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Action</span><span class=\"token punctuation\">></span></span>settings<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Action</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Protocol</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Type</span><span class=\"token punctuation\">></span></span>POP3<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Type</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Server</span><span class=\"token punctuation\">></span></span>mail.mydomain.com<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Server</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Port</span><span class=\"token punctuation\">></span></span>995<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Port</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>DomainRequired</span><span class=\"token punctuation\">></span></span>on<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>DomainRequired</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>SPA</span><span class=\"token punctuation\">></span></span>off<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>SPA</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>SSL</span><span class=\"token punctuation\">></span></span>on<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>SSL</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>AuthRequired</span><span class=\"token punctuation\">></span></span>on<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>AuthRequired</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Protocol</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Protocol</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Type</span><span class=\"token punctuation\">></span></span>IMAP<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Type</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Server</span><span class=\"token punctuation\">></span></span>mail.mydomain.com<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Server</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Port</span><span class=\"token punctuation\">></span></span>993<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Port</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>DomainRequired</span><span class=\"token punctuation\">></span></span>on<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>DomainRequired</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>SPA</span><span class=\"token punctuation\">></span></span>off<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>SPA</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>SSL</span><span class=\"token punctuation\">></span></span>on<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>SSL</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>AuthRequired</span><span class=\"token punctuation\">></span></span>on<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>AuthRequired</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Protocol</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Protocol</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Type</span><span class=\"token punctuation\">></span></span>SMTP<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Type</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Server</span><span class=\"token punctuation\">></span></span>mail.mydomain.com<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Server</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Port</span><span class=\"token punctuation\">></span></span>587<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Port</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>DomainRequired</span><span class=\"token punctuation\">></span></span>on<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>DomainRequired</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>SPA</span><span class=\"token punctuation\">></span></span>off<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>SPA</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>SSL</span><span class=\"token punctuation\">></span></span>on<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>SSL</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>AuthRequired</span><span class=\"token punctuation\">></span></span>on<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>AuthRequired</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>UsePOPAuth</span><span class=\"token punctuation\">></span></span>off<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>UsePOPAuth</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>SMTPLast</span><span class=\"token punctuation\">></span></span>off<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>SMTPLast</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Protocol</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Account</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Response</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Autodiscover</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>And again, if your email domain differs from server domain, add proper redirect:</p>\n<p><code class=\"language-text\">/etc/nginx.conf</code></p>\n<div class=\"gatsby-highlight\" data-language=\"nginx\"><pre class=\"language-nginx\"><code class=\"language-nginx\"><span class=\"token keyword\">server</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">server_name</span> autodiscover<span class=\"token punctuation\">.</span>myotherdomain<span class=\"token punctuation\">.</span>com<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">rewrite</span> <span class=\"token operator\">^</span><span class=\"token punctuation\">.</span><span class=\"token operator\">*</span> <span class=\"token keyword\">https</span><span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>mydomain<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>autodiscover<span class=\"token punctuation\">.</span>xml permanent<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>And that's it! Enjoy your new, shiny, auto-configuring E-mail!</p>\n<h3>Sources</h3>\n<ul>\n<li><a href=\"bugtracker.ispconfig.org/index.php?do=details&#x26;task_id=2152\">bugtracker.ispconfig.org/index.php?do=details&#x26;task_id=2152</a></li>\n</ul>","excerpt":"One of the nicest, yet badly documented features in new MUAs is email servers autodiscovering. When you type your e-mail address in…","frontmatter":{"id":"60b24bcb-7bd8-4279-bc5b-8f20be330fa7","title":"Adding Email server autoconfig and autodiscover","date":"October 28, 2013","isoDate":"2013-10-28T12:57:00.000Z","tags":["administration"],"cover":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIEBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAFHyKC8iLP/xAAaEAEAAgMBAAAAAAAAAAAAAAACAAEREhQE/9oACAEBAAEFAn6qS63jrU3uJ61g3P/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABwQAAICAgMAAAAAAAAAAAAAAAABESEiMTJBYf/aAAgBAQAGPwLFa7HSlebOCYikTB//xAAcEAACAwADAQAAAAAAAAAAAAABEQAhMUFRcZH/2gAIAQEAAT8hFnMqKO2TDANNfsVAZDwX7BN+pyVm3ez/2gAMAwEAAgADAAAAEBDP/8QAFhEAAwAAAAAAAAAAAAAAAAAAAAER/9oACAEDAQE/EIiI/8QAFxEBAAMAAAAAAAAAAAAAAAAAAAERIf/aAAgBAgEBPxC5a//EABwQAQACAgMBAAAAAAAAAAAAAAERIQAxQYGRUf/aAAgBAQABPxBhGBBUGhJanFDEaGdN11gwsqR4lR7m6FhXw5GaqyEh9YkgIkDWc//Z","aspectRatio":1.4970059880239521,"src":"/static/0383ba95762ba7c71a8b41fb13e5a5e4/a7715/adding-email-server-autoconfig-and-autodiscover.jpg","srcSet":"/static/0383ba95762ba7c71a8b41fb13e5a5e4/8f7df/adding-email-server-autoconfig-and-autodiscover.jpg 250w,\n/static/0383ba95762ba7c71a8b41fb13e5a5e4/0f3a1/adding-email-server-autoconfig-and-autodiscover.jpg 500w,\n/static/0383ba95762ba7c71a8b41fb13e5a5e4/a7715/adding-email-server-autoconfig-and-autodiscover.jpg 1000w,\n/static/0383ba95762ba7c71a8b41fb13e5a5e4/16310/adding-email-server-autoconfig-and-autodiscover.jpg 1024w","srcWebp":"/static/0383ba95762ba7c71a8b41fb13e5a5e4/e30b5/adding-email-server-autoconfig-and-autodiscover.webp","srcSetWebp":"/static/0383ba95762ba7c71a8b41fb13e5a5e4/7ca0e/adding-email-server-autoconfig-and-autodiscover.webp 250w,\n/static/0383ba95762ba7c71a8b41fb13e5a5e4/e9589/adding-email-server-autoconfig-and-autodiscover.webp 500w,\n/static/0383ba95762ba7c71a8b41fb13e5a5e4/e30b5/adding-email-server-autoconfig-and-autodiscover.webp 1000w,\n/static/0383ba95762ba7c71a8b41fb13e5a5e4/cc834/adding-email-server-autoconfig-and-autodiscover.webp 1024w","sizes":"(max-width: 1000px) 100vw, 1000px"}}},"path":"/blog/adding-email-server-autoconfig-and-autodiscover/","author":"Igor Rzegocki"}}},"pageContext":{}}}